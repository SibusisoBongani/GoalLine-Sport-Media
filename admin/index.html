<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GoalLine CMS</title>
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
</head>
<body>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if(window.CMS) {
        CMS.init();
        console.log('CMS initialized successfully');
      } else {
        document.body.innerHTML = `
          <div style="padding:20px;font-family:sans-serif">
            <h2>Critical CMS Error</h2>
            <p>Contact support with these details:</p>
            <div id="error-details" style="background:#f5f5f5;padding:10px;"></div>
          </div>
        `;
        const details = [
          `Script loaded: ${!!window.CMS}`,
          `React: ${!!window.React}`,
          `Config accessible: <a href="/admin/config.yml" target="_blank">Test link</a>`
        ].join('<br>');
        document.getElementById('error-details').innerHTML = details;
      }
    });
  </script>
</body>
</html>